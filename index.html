<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>London Crime Trends</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.1/flatly/bootstrap.min.css" rel="stylesheet" integrity="sha384-WuViQmTamrPyvMFZjf8te7HpKtdxuzV/HX1yG26a0d8yieIBr+beDf1ME99iX1cM" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Bellefair%7CTajawal:500,900" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/main.min.css">
</head>

<body>

  <!-- The header houses two navigation menus - one in the form of a vertical      -->
  <!-- dropdown for mobile and the other as a left hand sidebar for larger screens -->
  <!-- Each is mutually exclusive so only one will ever be shown at any one time   -->
  <!-- according to screen width                                                   -->

  <header class="container-fluid p-0">
    <div class="row">
      <div class="col-12 col-lg-4 p-0 logo">
        <img src="assets/images/logo.svg" alt="Logo">
      </div>

      <!-- This represents the mobile dropdown navigation menu, triggered by         -->
      <!-- pressing the burger menu button. From there, users can select a tube line -->

      <div class="col-12 col-lg-8 pl-0">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary pb-0 pr-0">
          <h1 class="site-title d-none d-lg-inline-block">London Crime Trends</h1>
          <h1 class="site-title small-device d-inline-block d-lg-none">London<br>Crime<br>Trends</h1>

          <!-- Button to toggle the slide down mobile navigation menu -->

          <button class="navbar-toggler d-inline-block d-lg-none mob-toggle" type="button" data-toggle="collapse" data-target="#togglemenu" aria-controls="togglemenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <!-- Main content of the mobile navigation menu which is initially hidden upon page load -->

          <div class="collapse navbar-collapse" id="togglemenu">
            <ul class="navbar-nav mr-auto d-block d-lg-none mob-menu">

              <!-- The data-lineid attribute is used by the UI JavaScript ui.js in order to  -->
              <!-- dynamically style menu items that are clicked                             -->

              <li class="nav-item tube-stop">
                <button type="button" class="btn sidebar-button bakerloo-button active" data-lineid="bakerloo">Bakerloo</button>
              </li>
              <li class="nav-item tube-stop">
                <button type="button" class="btn sidebar-button central-button" data-lineid="central">Central</button>
              </li>
              <li class="nav-item tube-stop">
                <button type="button" class="btn sidebar-button circle-button" data-lineid="circle">Circle</button>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button district-button" data-lineid="district">District</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button hammersmith-city-button" data-lineid="hammersmith-city">Hammersmith & City</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button jubilee-button" data-lineid="jubilee">Jubilee</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button metropolitan-button" data-lineid="metropolitan">Metropolitan</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button northern-button" data-lineid="northern">Northern</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button piccadilly-button" data-lineid="piccadilly">Piccadilly</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button victoria-button" data-lineid="victoria">Victoria</button>
                </li>
                <li class="nav-item tube-stop">
                  <button type="button" class="btn sidebar-button waterloo-city-button" data-lineid="waterloo-city">Waterloo & City</button>
                </li>
            </ul>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <main class="container-fluid pl-0">
    <div class="row">

      <!-- This is the sidebar menu only visible for screen sizes wider than tablet portrait size -->
      <!-- Its content is the same as the mobile menu but is shown in a left hand sidebar rather  -->
      <!-- than a dropdown vertical menu                                                          -->

      <div class="col-12 col-lg-4 d-none d-lg-inline-block dashboard-sidebar pr-0">
        <button type="button" class="btn sidebar-button bakerloo-button active" data-lineid="bakerloo">Bakerloo</button>
        <button type="button" class="btn sidebar-button central-button" data-lineid="central">Central</button>
        <button type="button" class="btn sidebar-button circle-button" data-lineid="circle">Circle</button>
        <button type="button" class="btn sidebar-button district-button" data-lineid="district">District</button>
        <button type="button" class="btn sidebar-button hammersmith-city-button" data-lineid="hammersmith-city">Hammersmith & City</button>
        <button type="button" class="btn sidebar-button jubilee-button" data-lineid="jubilee">Jubilee</button>
        <button type="button" class="btn sidebar-button metropolitan-button" data-lineid="metropolitan">Metropolitan</button>
        <button type="button" class="btn sidebar-button northern-button" data-lineid="northern">Northern</button>
        <button type="button" class="btn sidebar-button piccadilly-button" data-lineid="piccadilly">Piccadilly</button>
        <button type="button" class="btn sidebar-button victoria-button" data-lineid="victoria">Victoria</button>
        <button type="button" class="btn sidebar-button waterloo-city-button" data-lineid="waterloo-city">Waterloo & City</button>
      </div>

      <!-- The dashboard houses the tube line station drop down, map local to the selected station  -->
      <!-- Pie chart showing crime statistics and line chart showing all crimes over a month        -->
      <!-- This mainly consists of placeholders which the dc/d3 based JavaScript will later         -->
      <!-- reference to populate the placeholder content with charts                                -->

      <div class="col-12 col-lg-8 dashboard-content">
        <div class="row">
          <div class="col-12 col-md-6">
            <div id="stops"></div>
          </div>
          <div class="col-12 col-md-6">
            <p class="about text-center text-md-right">Crimes within a 1 mile radius of the selected tube station. Data courtesy of data.police.uk and api.tfl.gov.uk</p>
          </div>

          <!-- Pie charts will be rendered here dynamically showing pie charts of crime types -->
          <!-- local to the selected station - based on data extracted from data.police.uk    -->

          <div class="col-12 col-md-6 col-lg-8 col-xl-6 dashboard-graphs">
            <div id="error"><h4></h4></div>
            <div id="loading"></div>
            <div id="force-selector" class="dropdown"></div>
            <div id="crime-selector" class="dropdown"></div>
            <div id="pie-chart" class="chart">
              <i class="fas fa-chart-pie placeholder-icon placeholder-icon-bakerloo"></i>
            </div>
          </div>

          <!-- The dropdown above supplies latitude/longitude coordinates so that the Google -->
          <!-- maps API can be queried to populate this section with a map local to the area -->

          <div class="col-12 col-md-6 col-lg-4 col-xl-6 justify-content-center">
            <div id="map">
              <i class="fas fa-map-marker-alt placeholder-icon placeholder-icon-bakerloo"></i>
            </div>
          </div>

          <!-- This section will be dynamically populated with a line chart based on         -->
          <!-- the currently selected station, showing crime figures over a one month period -->

          <div class="col-12 dashboard-graphs">
            <div id="line-chart" class="chart">
              <i class="fas fa-chart-area placeholder-icon placeholder-icon-bakerloo"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- This set of divs is a purely cosmetic effect on the footer. The styling applied to these   -->
  <!-- divs results in a thin line representing the colours of each london underground tube line  -->

  <footer>
    <div class="footer-tops footer-tops0"></div>
    <div class="footer-tops footer-tops1"></div>
    <div class="footer-tops footer-tops2"></div>
    <div class="footer-tops footer-tops3"></div>
    <div class="footer-tops footer-tops4"></div>
    <div class="footer-tops footer-tops5"></div>
    <div class="footer-tops footer-tops6"></div>
    <div class="footer-tops footer-tops7"></div>
    <div class="footer-tops footer-tops8"></div>
    <div class="footer-tops footer-tops9"></div>
    <div class="footer-tops footer-tops10"></div>
    <div class="copyright">Julian Garcia &copy; 2018</div>
  </footer>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/3.0.4/dc.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
  <script src="assets/js/cache_elements.js"></script>
  <script src="assets/js/graphs.js"></script>
  <script src="assets/js/transport_api.js"></script>
  <script src="assets/js/police_api.js"></script>
  <script src="assets/js/gmap.js"></script>
  <script src="assets/js/ui.js"></script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6d0X75fZt-vOGynM8JDepHdxeTavOGAQ&callback=initMap"></script>
</body>

</html>
